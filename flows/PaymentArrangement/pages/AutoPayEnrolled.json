{
  "name": "24dde5cf-26d1-492d-a208-37d53648040b",
  "displayName": "AutoPayEnrolled",
  "form": {
  
  },
  "entryFulfillment": {
    "messages": [ {
      "text": {
        "text": [ "You are currently enrolled in Brightspeed's autopay system, but enrolling in a payment arrangement will remove your autopay settings for monthly bills. While your arrangement installments autodraft, you will need to make your regular monthly payments manually. You will be able to sign back up for autopay after the payment arrangement has concluded. " ]
      },
      "languageCode": "en"
    }, {
      "text": {
        "text": [ "You can always view our $session.params.link46 . \n" ]
      },
      "languageCode": "en"
    }, {
      "text": {
        "text": [ "Would you still like to continue?" ]
      },
      "languageCode": "en"
    }, {
      "payload": {
        "ujet": {
          "buttons": [ {
            "action": "quick_reply",
            "title": "Yes"
          }, {
            "action": "quick_reply",
            "title": "No"
          } ],
          "title": "",
          "type": "inline_button"
        }
      },
      "languageCode": "en"
    }, {
      "text": {
        "text": [ "You are currently enrolled in Brightspeed's autopay system, but enrolling in a payment arrangement will remove your autopay settings for monthly bills. While your arrangement installments autodraft, you will need to make your regular monthly payments manually. You will be able to sign back up for autopay after the payment arrangement has concluded. \n\nYou can always view our payment agreement on brightspeed.com.\n\nWould you still like to continue?" ]
      },
      "languageCode": "en",
      "channel": "voice"
    } ],
    "setParameterActions": [ {
      "parameter": "NoMatch1Triggered",
      "value": "FALSE"
    }, {
      "parameter": "NoInput1Triggered",
      "value": "FALSE"
    } ],
    "advancedSettings": {
      "playbackInterruptionSettings": {
        "allowPlaybackInterruption": true
      },
      "dtmfSettings": {
        "useSystemEntityRule": false
      }
    }
  },
  "transitionRoutes": [ {
    "intent": "Confirmation.Yes",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_AutoPayEnrolled_1",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "ToState",
        "value": "AutopaySignup"
      }, {
        "parameter": "PaymentAmount",
        "value": "$session.params.PayInstall1Amount"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "targetPage": "PastDuePayMethodCheck",
    "name": "e68c4ae7-e1f3-4608-b1d6-4c2d69ea60aa"
  }, {
    "intent": "Confirmation.No",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_AutoPayEnrolled_2",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "targetPage": "AnythingElse",
    "name": "b822396e-ca97-4dda-9498-3cd22446968a"
  }, {
    "intent": "Representative",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_AutoPayEnrolled_3",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "RouteIntent",
        "value": "Payment"
      }, {
        "parameter": "SS_PaymentArrangement",
        "value": "Failure"
      }, {
        "parameter": "SS_FailureReason",
        "value": "HumanEscalation"
      }, {
        "parameter": "TransferReason",
        "value": "Intent is Representative"
      }, {
        "parameter": "TransferMessage",
        "value": "AutoPayEnrolled"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "targetFlow": "RoutetoAgent",
    "name": "6913a1f8-941f-42fc-97fc-b244797c7722"
  } ],
  "eventHandlers": [ {
    "event": "sys.no-input-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I’m sorry, I didn’t hear your answer." ]
        },
        "languageCode": "en",
        "channel": "voice"
      }, {
        "text": {
          "text": [ "Would you still like to continue?" ]
        },
        "languageCode": "en",
        "channel": "voice"
      } ],
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_AutoPayEnrolled_NoInput_1",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "NoInput1Triggered",
        "value": "TRUE"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
          "allowPlaybackInterruption": true
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "name": "26a7c992-4b6d-4ef2-8c39-858f7a32e31f"
  }, {
    "targetFlow": "RoutetoAgent",
    "event": "sys.no-input-2",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "That's okay" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "That's okay" ]
        },
        "languageCode": "en",
        "channel": "voice"
      } ],
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_AutoPayEnrolled_NoInput_2",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "RouteIntent",
        "value": "Payment"
      }, {
        "parameter": "SS_PaymentArrangement",
        "value": "Failure"
      }, {
        "parameter": "SS_FailureReason",
        "value": "RetryLimitExceeded"
      }, {
        "parameter": "DifficultCaller",
        "value": "NoInput"
      }, {
        "parameter": "TransferReason",
        "value": "NoInputRetryExceeded"
      }, {
        "parameter": "TransferMessage",
        "value": "AutoPayEnrolled"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "name": "cf9d6078-0f65-4acb-9f34-dbb2b8583fdb"
  }, {
    "event": "sys.no-match-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I’m sorry, your answer doesn’t match one of our options. Can you please repeat that?" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Would you still like to continue?" ]
        },
        "languageCode": "en"
      }, {
        "payload": {
          "ujet": {
            "buttons": [ {
              "action": "quick_reply",
              "title": "Yes"
            }, {
              "action": "quick_reply",
              "title": "No"
            } ],
            "title": "",
            "type": "inline_button"
          }
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "I’m sorry, your answer doesn’t match one of our options. " ]
        },
        "languageCode": "en",
        "channel": "voice"
      }, {
        "text": {
          "text": [ "Would you still like to continue?" ]
        },
        "languageCode": "en",
        "channel": "voice"
      } ],
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_AutoPayEnrolled_NoMatch_1",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "NoMatch1Triggered",
        "value": "TRUE"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
          "allowPlaybackInterruption": true
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "name": "a2a242c1-dbd3-4b0c-bb80-9b2999cc2bce"
  }, {
    "targetFlow": "RoutetoAgent",
    "event": "sys.no-match-2",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I didn’t understand your answer." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "I didn’t understand your answer." ]
        },
        "languageCode": "en",
        "channel": "voice"
      } ],
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_AutoPayEnrolled_NoMatch_2",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "SS_PaymentArrangement",
        "value": "Failure"
      }, {
        "parameter": "SS_FailureReason",
        "value": "RetryLimitExceeded"
      }, {
        "parameter": "RouteIntent",
        "value": "Payment"
      }, {
        "parameter": "TransferReason",
        "value": "NoMatchRetryExceeded"
      }, {
        "parameter": "TransferMessage",
        "value": "AutoPayEnrolled"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "name": "d3dcf9bc-ac5e-44a3-9a60-ada8e817e053"
  } ]
}
