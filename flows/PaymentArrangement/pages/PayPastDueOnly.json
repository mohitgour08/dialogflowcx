{
  "name": "4b66235b-b93b-4f74-bfe0-2745e95e7f9d",
  "displayName": "PayPastDueOnly",
  "form": {
  
  },
  "entryFulfillment": {
    "messages": [ {
      "text": {
        "text": [ "If you would like to choose this option, we will give you a payment extension for your past due balance. You can choose a date within 14 days to draft the payment. All other balances or monthly fees will keep their normal due date. " ]
      },
      "languageCode": "en"
    }, {
      "text": {
        "text": [ "Would you like to choose this arrangement?" ]
      },
      "languageCode": "en"
    }, {
      "payload": {
        "ujet": {
          "buttons": [ {
            "action": "quick_reply",
            "title": "Yes!"
          }, {
            "action": "quick_reply",
            "title": "No,show other options."
          }, {
            "action": "quick_reply",
            "title": "I'm finished for now."
          } ],
          "title": "",
          "type": "inline_button"
        }
      },
      "languageCode": "en"
    }, {
      "text": {
        "text": [ "If you would like to choose this option, we will give you a payment extension for your past due balance. You can choose a date within 14 days to draft the payment. All other balances or monthly fees will keep their normal due date. Would you like to choose this arrangement? You can say yes, or no to listen to other options. Or, just tell me you're finished." ]
      },
      "languageCode": "en",
      "channel": "voice"
    } ],
    "setParameterActions": [ {
      "parameter": "firstDatefailure",
      "value": "false"
    }, {
      "parameter": "firstInstallmentAmount",
      "value": "$session.params.PAPastDueAmount"
    }, {
      "parameter": "thirdInstallmentAmount",
      "value": ""
    }, {
      "parameter": "secondInstallmentDate",
      "value": ""
    }, {
      "parameter": "secondInstallmentAmount",
      "value": ""
    }, {
      "parameter": "thirdInstallmentDate",
      "value": ""
    }, {
      "parameter": "PlanID",
      "value": "3"
    }, {
      "parameter": "NoMatch1Triggered",
      "value": "FALSE"
    }, {
      "parameter": "NoInput1Triggered",
      "value": "FALSE"
    } ],
    "advancedSettings": {
      "playbackInterruptionSettings": {
        "allowPlaybackInterruption": true
      },
      "dtmfSettings": {
        "useSystemEntityRule": false
      }
    }
  },
  "transitionRoutes": [ {
    "intent": "Confirmation.Yes",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PastDueOnly_1",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "targetPage": "PastDueAutopay",
    "name": "a82254d9-a5ee-4577-a2bd-7138d7ec3331"
  }, {
    "intent": "Confirmation.No",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PastDueOnly_2",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "targetPage": "PastDueExists",
    "name": "4cf345bc-2e6a-4b39-b4a5-3f217a58d031"
  }, {
    "intent": "Representative",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PastDueOnly_3",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "SS_PaymentArrangement",
        "value": "Failure"
      }, {
        "parameter": "SS_FailureReason",
        "value": "HumanEscalation"
      }, {
        "parameter": "RouteIntent",
        "value": "Payment"
      }, {
        "parameter": "TransferReason",
        "value": "Intent is Representative"
      }, {
        "parameter": "TransferMessage",
        "value": "PayPastDueOnly"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "targetFlow": "RoutetoAgent",
    "name": "773ccdf1-8db5-4a9c-a558-78ae96a6ef03"
  }, {
    "intent": "GoodToGo",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PastDueOnly_4",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "targetPage": "AnythingElse",
    "name": "60fecd94-d18a-4bab-8f50-534731554701"
  }, {
    "intent": "Show other options",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PastDueOnly_5",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "targetPage": "PastDueExists",
    "name": "f2bc2eec-ea3c-45b9-b71f-9c4c6ed89e59"
  } ],
  "eventHandlers": [ {
    "event": "sys.no-input-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I’m sorry, your answer doesn’t match one of our options. Can you please repeat that?" ]
        },
        "languageCode": "en",
        "channel": "voice"
      }, {
        "text": {
          "text": [ "Would you like to choose this arrangement? You can say yes, or no to listen to other options. Or, just tell me you're finished." ]
        },
        "languageCode": "en",
        "channel": "voice"
      } ],
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PastDueOnly_NoInput1",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "NoInput1Triggered",
        "value": "TRUE"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
          "allowPlaybackInterruption": true
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "name": "36089c48-0496-45d4-b436-a1cf82a0c840"
  }, {
    "targetFlow": "RoutetoAgent",
    "event": "sys.no-input-2",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "That's okay" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "That's okay" ]
        },
        "languageCode": "en",
        "channel": "voice"
      } ],
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PastDueOnly_NoInput2",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "RouteIntent",
        "value": "Payment"
      }, {
        "parameter": "SS_PaymentArrangement",
        "value": "Failure"
      }, {
        "parameter": "SS_FailureReason",
        "value": "RetryLimitExceeded"
      }, {
        "parameter": "DifficultCaller",
        "value": "NoInput"
      }, {
        "parameter": "TransferReason",
        "value": "NoInputRetryExceeded"
      }, {
        "parameter": "TransferMessage",
        "value": "PayPastDueOnly"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "name": "07297557-f2dd-4774-92cc-531adb96f9c3"
  }, {
    "event": "sys.no-match-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I’m sorry, your answer doesn’t match one of our options. Can you please repeat that?" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Would you like to choose this arrangement?" ]
        },
        "languageCode": "en"
      }, {
        "payload": {
          "ujet": {
            "buttons": [ {
              "action": "quick_reply",
              "title": "Yes!"
            }, {
              "action": "quick_reply",
              "title": "No,show other options."
            }, {
              "action": "quick_reply",
              "title": "I'm finished for now."
            } ],
            "title": "",
            "type": "inline_button"
          }
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "I’m sorry, your answer doesn’t match one of our options. Can you please repeat that?" ]
        },
        "languageCode": "en",
        "channel": "voice"
      }, {
        "text": {
          "text": [ "Would you like to choose this arrangement? You can say yes, or no to listen to other options. Or, just tell me you're finished." ]
        },
        "languageCode": "en",
        "channel": "voice"
      } ],
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PastDueOnly_NoMatch1",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "NoMatch1Triggered",
        "value": "TRUE"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
          "allowPlaybackInterruption": true
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "name": "c7ede9bb-2685-4422-a23b-6802983fe18b"
  }, {
    "targetFlow": "RoutetoAgent",
    "event": "sys.no-match-2",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I didn’t understand your answer." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "I didn’t understand your answer." ]
        },
        "languageCode": "en",
        "channel": "voice"
      } ],
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PastDueOnly_NoMatch2",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "SS_FailureReason",
        "value": "RetryLimitExceeded"
      }, {
        "parameter": "SS_PaymentArrangement",
        "value": "Failure"
      }, {
        "parameter": "RouteIntent",
        "value": "Payment"
      }, {
        "parameter": "TransferReason",
        "value": "NoMatchRetryExceeded"
      }, {
        "parameter": "TransferMessage",
        "value": "PayPastDueOnly"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "name": "e07aa702-2e3c-415e-83a7-94843e9d3720"
  } ]
}
