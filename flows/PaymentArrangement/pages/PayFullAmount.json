{
  "name": "a329785e-fa68-42c8-b174-2037caddc5c8",
  "displayName": "PayFullAmount",
  "form": {
  
  },
  "entryFulfillment": {
    "messages": [ {
      "text": {
        "text": [ "If you would like to choose this payment arrangement option, we will give you a payment extension for the full balance. You can select any date within 14 days. All upcoming fees and balances will keep their normal due date. " ]
      },
      "languageCode": "en"
    }, {
      "text": {
        "text": [ "Would you like to choose this arrangement?" ]
      },
      "languageCode": "en"
    }, {
      "payload": {
        "ujet": {
          "buttons": [ {
            "action": "quick_reply",
            "title": "Yes!"
          }, {
            "action": "quick_reply",
            "title": "No,show other options."
          }, {
            "action": "quick_reply",
            "title": "I'm finished for now."
          } ],
          "title": "",
          "type": "inline_button"
        }
      },
      "languageCode": "en"
    }, {
      "text": {
        "text": [ "If you would like to choose this payment arrangement option, we will give you a payment extension for the full balance. You can select any date within 14 days. All upcoming fees and balances will keep their normal due date. Would you like to choose this arrangement? You can say \"yes\" to enroll or \"no\" to hear the other options. Or, just tell me you're finished for now." ]
      },
      "languageCode": "en",
      "channel": "voice"
    } ],
    "setParameterActions": [ {
      "parameter": "PlanID",
      "value": "2"
    }, {
      "parameter": "thirdInstallmentAmount",
      "value": ""
    }, {
      "parameter": "thirdInstallmentDate",
      "value": ""
    }, {
      "parameter": "secondInstallmentDate",
      "value": ""
    }, {
      "parameter": "secondInstallmentAmount",
      "value": ""
    }, {
      "parameter": "firstInstallmentAmount",
      "value": "$session.params.FullAmount"
    }, {
      "parameter": "NoMatch1Triggered",
      "value": "FALSE"
    }, {
      "parameter": "NoInput1Triggered",
      "value": "FALSE"
    } ],
    "advancedSettings": {
      "playbackInterruptionSettings": {
        "allowPlaybackInterruption": true
      },
      "dtmfSettings": {
        "useSystemEntityRule": false
      }
    }
  },
  "transitionRoutes": [ {
    "intent": "Confirmation.Yes",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PayFullAmount_1",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "firstInstallmentAmount",
        "value": "$session.params.FullAmount"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "targetPage": "PastDueAutopay",
    "name": "811d5857-2211-4d1f-abdc-023845b6293c"
  }, {
    "intent": "Confirmation.No",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PayFullAmount_2",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "targetPage": "PastDueExists",
    "name": "75d87bad-c543-471e-9661-176df36bf1a3"
  }, {
    "intent": "GoodToGo",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PayFullAmount_3",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "targetPage": "AnythingElse",
    "name": "63e4b1e3-541f-4db2-a9b6-10a401132679"
  }, {
    "intent": "Representative",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PayFullAmount_4",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "SS_PaymentArrangement",
        "value": "Failure"
      }, {
        "parameter": "SS_FailureReason",
        "value": "HumanEscalation"
      }, {
        "parameter": "RouteIntent",
        "value": "Payment"
      }, {
        "parameter": "TransferReason",
        "value": "Intent is Representative"
      }, {
        "parameter": "TransferMessage",
        "value": "PayFullAmount"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "targetFlow": "RoutetoAgent",
    "name": "95f78754-30c6-4df7-aa2d-1f9bb6ccf290"
  }, {
    "intent": "Show other options",
    "triggerFulfillment": {
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PayFullAmount_5",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "targetPage": "PastDueExists",
    "name": "a55af201-4f27-4887-aa87-ec9659316bb8"
  } ],
  "eventHandlers": [ {
    "event": "sys.no-input-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I’m sorry, I didn’t hear your answer." ]
        },
        "languageCode": "en",
        "channel": "voice"
      }, {
        "text": {
          "text": [ "You can say \"yes\" to enroll or \"no\" to hear the other options. Or, just tell me you're finished for now." ]
        },
        "languageCode": "en",
        "channel": "voice"
      } ],
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PayFullAmount_NoInput1",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "NoInput1Triggered",
        "value": "TRUE"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
          "allowPlaybackInterruption": true
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "name": "e16080fc-9167-4086-8819-4c45dc863225"
  }, {
    "targetFlow": "RoutetoAgent",
    "event": "sys.no-input-2",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "That's okay" ]
        },
        "languageCode": "en",
        "channel": "voice"
      } ],
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PayFullAmount_NoInput2",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "RouteIntent",
        "value": "Payment"
      }, {
        "parameter": "SS_PaymentArrangement",
        "value": "Failure"
      }, {
        "parameter": "SS_FailureReason",
        "value": "RetryLimitExceeded"
      }, {
        "parameter": "DifficultCaller",
        "value": "NoInput"
      }, {
        "parameter": "TransferReason",
        "value": "NoInputRetryExceeded"
      }, {
        "parameter": "TransferMessage",
        "value": "PayFullAmount"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "name": "fb1c0688-f304-41b3-a1fa-4043f5144fbf"
  }, {
    "event": "sys.no-match-1",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I’m sorry, your answer doesn’t match one of our options. Can you please repeat that?" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Would you like to choose this arrangement?" ]
        },
        "languageCode": "en"
      }, {
        "payload": {
          "ujet": {
            "buttons": [ {
              "action": "quick_reply",
              "title": "Yes!"
            }, {
              "action": "quick_reply",
              "title": "No,show other options."
            }, {
              "action": "quick_reply",
              "title": "I'm finished for now."
            } ],
            "title": "",
            "type": "inline_button"
          }
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "I’m sorry, your answer doesn’t match one of our options." ]
        },
        "languageCode": "en",
        "channel": "voice"
      }, {
        "text": {
          "text": [ "You can say \"yes\" to enroll or \"no\" to hear the other options. Or, just tell me you're finished for now." ]
        },
        "languageCode": "en",
        "channel": "voice"
      } ],
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PayFullAmount_NoMatch1",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "NoMatch1Triggered",
        "value": "TRUE"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
          "allowPlaybackInterruption": true
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "name": "68d9ad03-1ae8-4fd7-b7f9-93c152d77d8a"
  }, {
    "targetFlow": "RoutetoAgent",
    "event": "sys.no-match-2",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I didn’t understand your answer." ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "I didn’t understand your answer." ]
        },
        "languageCode": "en",
        "channel": "voice"
      } ],
      "setParameterActions": [ {
        "parameter": "Metrics_PaymentArrangementEnrollment_PayFullAmount_NoMatch2",
        "value": "$sys.func.TO_TEXT($sys.func.NOW())"
      }, {
        "parameter": "SS_FailureReason",
        "value": "RetryLimitExceeded"
      }, {
        "parameter": "SS_PaymentArrangement",
        "value": "Failure"
      }, {
        "parameter": "RouteIntent",
        "value": "Payment"
      }, {
        "parameter": "TransferReason",
        "value": "NoMatchRetryExceeded"
      }, {
        "parameter": "TransferMessage",
        "value": "PayFullAmount"
      } ],
      "advancedSettings": {
        "playbackInterruptionSettings": {
        
        },
        "dtmfSettings": {
          "useSystemEntityRule": false
        }
      }
    },
    "name": "b459d01d-1126-48d2-96be-9466a64293a6"
  } ]
}
